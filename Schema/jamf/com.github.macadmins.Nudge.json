{
  "description": "Preference settings for Nudge (com.github.macadmins.Nudge)",
  "title": "Nudge",
  "properties": {
    "optionalFeatures": {
      "description": "All optional features to enhance and customize the Nudge experience for your employer's needs.",
      "title": "optionalFeatures",
      "anyOf": [
        {
          "title": "Not Configured",
          "type": "null"
        },
        {
          "title": "Configured",
          "type": "object",
          "properties": {
            "acceptableApplicationBundleIDs": {
              "description": "The bundle id of applications you allow without Nudge taking focus. You can specify a single bundle id or multiple.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "type": "array",
                  "items": {
                    "options": {
                      "inputAttributes": {
                        "placeholder": "us.zoom.xos"
                      }
                    },
                    "type": "string",
                    "title": "acceptableApplicationBundleID"
                  }
                }
              ]
            },
            "aggressiveUserExperience": {
              "description": "When disabled, Nudge will not hide all non-acceptableApplicationBundleIDs after the requiredInstallationDate or allowedDeferrals.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": true,
                  "type": "boolean"
                }
              ]
            },
            "asyncronousSoftwareUpdate": {
              "description": "When disabled, Nudge will wait for Software Update to finish downloading (if any) updates before showing the UI.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "boolean",
                  "default": true
                }
              ]
            },
            "attemptToFetchMajorUpgrade": {
              "description": "When a major upgrade is required, Nudge will attempt to download it through the softwareupdate binary. Note: This key is only used with Nudge v1.1 and will not be honored in v1.0.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "boolean",
                  "default": true
                }
              ]
            },
            "enforceMinorUpdates": {
              "description": "When enabled, Nudge will enforce minor updates. This should likely never be disabled.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "boolean",
                  "default": true
                }
              ]
            }
          }
        }
      ]
    },
    "osVersionRequirements": {
      "description": "The required components necessary to enforce an Operating System version through Nudge. Specify one array to enforce a single Operating System version across all machines or specify multiple arrays for specific enforcements.",
      "title": "osVersionRequirements",
      "anyOf": [
        {
          "title": "Not Configured",
          "type": "null"
        },
        {
          "title": "Configured",
          "type": "array",
          "items": {
            "title": "osVersionRequirement",
            "type": "object",
            "properties": {
              "aboutUpdateURL": {
                "description": "A single URL, enabling the More Info button URL path. While this accepts a string, it must be a valid URL (http://, https://, file://). Note: If this value is passed with aboutUpdateURLs, the aboutUpdateURLs key will be ignored.",
                "anyOf": [
                  {
                    "type": "null",
                    "title": "Not Configured"
                  },
                  {
                    "title": "Configured",
                    "type": "string",
                    "options": {
                      "inputAttributes": {
                        "placeholder": "https://github.com/macadmins/nudge"
                      }
                    }
                  }
                ]
              },
              "aboutUpdateURLs": {
                "description": "The aboutUpdateURL - per country localization.",
                "title": "aboutUpdateURLs",
                "anyOf": [
                  {
                    "title": "Not Configured",
                    "type": "null"
                  },
                  {
                    "title": "Configured",
                    "type": "array",
                    "items": {
                      "title": "aboutUpdateURL - Dictionary",
                      "type": "object",
                      "properties": {
                        "_language": {
                          "description": "The targeted language locale for the user interface. Note: For a list of locales, please run the following command in Terminal: /usr/bin/locale -a",
                          "anyOf": [
                            {
                              "type": "null",
                              "title": "Not Configured"
                            },
                            {
                              "title": "Configured",
                              "type": "string",
                              "options": {
                                "inputAttributes": {
                                  "placeholder": "en"
                                }
                              }
                            }
                          ]
                        },
                        "aboutUpdateURL": {
                          "description": "The URL for the More Info button. While this accepts a string, it must be a valid URL (http://, https://, file://).",
                          "anyOf": [
                            {
                              "type": "null",
                              "title": "Not Configured"
                            },
                            {
                              "title": "Configured",
                              "type": "string",
                              "options": {
                                "inputAttributes": {
                                  "placeholder": "https://github.com/macadmins/nudge"
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  }
                ]
              },
              "majorUpgradeAppPath": {
                "description": "The app path for a major upgrade. Note: Nudge v1.0.1 or higher is required for this feature.",
                "anyOf": [
                  {
                    "type": "null",
                    "title": "Not Configured"
                  },
                  {
                    "title": "Configured",
                    "type": "string",
                    "options": {
                      "inputAttributes": {
                        "placeholder": "/Applications/Install macOS Monterey.app"
                      }
                    }
                  }
                ]
              },
              "requiredInstallationDate": {
                "description": "The required installation date for Nudge to enforce the required operating system version. You must follow a standard date string as YYYY-MM-DDTHH:MM:SSZ - Example: 2021-03-31T00:00:00Z",
                "anyOf": [
                  {
                    "type": "null",
                    "title": "Not Configured"
                  },
                  {
                    "title": "Configured",
                    "type": "string",
                    "options": {
                      "inputAttributes": {
                        "placeholder": "2021-08-31T00:00:00Z"
                      }
                    }
                  }
                ]
              },
              "requiredMinimumOSVersion": {
                "description": "The required minimum operating system version. Note: When passing versions such as 11.2.0 it will be normalized to 11.2. It is recommended to leave the trailing zero from the version number.",
                "anyOf": [
                  {
                    "type": "null",
                    "title": "Not Configured"
                  },
                  {
                    "title": "Configured",
                    "type": "string",
                    "options": {
                      "inputAttributes": {
                        "placeholder": "11.5.2"
                      }
                    }
                  }
                ]
              },
              "targetedOSVersions": {
                "description": "The versions of macOS that require a security update. You can specify single version or multiple versions. This key is only used with Nudge v1.0 and will not be honored in v1.1.",
                "anyOf": [
                  {
                    "title": "Not Configured",
                    "type": "null"
                  },
                  {
                    "title": "Configured",
                    "type": "array",
                    "items": {
                      "options": {
                        "inputAttributes": {
                          "placeholder": "11.5.1"
                        }
                      },
                      "type": "string",
                      "title": "targetedOSVersion"
                    }
                  }
                ]
              },
              "targetedOSVersionsRule": {
                "description": "The OS string rule for targeting nudge events. You can target with \"default\", the full OS version (example: \"11.5.1\"). or the major OS version (example: \"11\"). This key is only used with Nudge v1.1 and will not be honored in v1.0.",
                "anyOf": [
                  {
                    "type": "null",
                    "title": "Not Configured"
                  },
                  {
                    "title": "Configured",
                    "type": "string",
                    "options": {
                      "inputAttributes": {
                        "placeholder": "default"
                      }
                    }
                  }
                ]
              }
            }
          }
        }
      ]
    },
    "userExperience": {
      "description": "All features related to how Nudge refreshes and defines the user experience",
      "title": "userExperience",
      "anyOf": [
        {
          "title": "Not Configured",
          "type": "null"
        },
        {
          "title": "Configured",
          "type": "object",
          "properties": {
            "allowedDeferrals": {
              "description": "The amount of times a user can defer Nudge (change it from the currently active window) in the current user session before the \"aggressive user experience\" is enabled. Note: The deferral count is only tied to the active Nudge session. If a user closes out of Nudge and the LaunchAgent re-triggers, the deferral count will re-start.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 1000000,
                  "type": "integer"
                }
              ]
            },
            "allowUserQuitDeferrals": {
              "description": "Allows users to customize their deferral window on top of the LaunchAgent launch timing.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": true,
                  "type": "boolean"
                }
              ]
            },
            "allowedDeferralsUntilForcedSecondaryQuitButton": {
              "description": "The amount of times a user can defer Nudge (change it from the currently active window) in the current user session before both quit buttons need to be actioned. Note: The deferral count is only tied to the active Nudge session. If a user closes out of Nudge and the LaunchAgent re-triggers, the deferral count will re-start.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 14,
                  "type": "integer"
                }
              ]
            },
            "approachingRefreshCycle": {
              "description": "The amount of time in seconds Nudge will use as a timer to refresh the user interface if it is not the currently active window. This key is directly tied to its partner key approachingWindowTime to know when to trigger this timer.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 6000,
                  "type": "integer"
                }
              ]
            },
            "approachingWindowTime": {
              "description": "The amount of time in hours Nudge will use to determine that the requiredInstallationDate is \"approaching\".",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 72,
                  "type": "integer"
                }
              ]
            },
            "elapsedRefreshCycle": {
              "description": "The amount of time in seconds Nudge will use as a timer to refresh the user interface if it is not the currently active window. This key is triggered once the requiredInstallationDate has expired.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 300,
                  "type": "integer"
                }
              ]
            },
            "imminentRefreshCycle": {
              "description": "The amount of time in seconds Nudge will use as a timer to refresh the user interface if it is not the currently active window. This key is directly tied to its partner key imminentWindowTime to know when to trigger this timer.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 600,
                  "type": "integer"
                }
              ]
            },
            "imminentWindowTime": {
              "description": "The amount of time in hours Nudge will use to determine that the requiredInstallationDate is \"imminent\".",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 24,
                  "type": "integer"
                }
              ]
            },
            "initialRefreshCycle": {
              "description": "The amount of time in seconds Nudge will use as a timer to refresh the user interface if it is not the currently active window. This key is triggered for all Nudge launches until the approachingWindowTime has been passed.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 18000,
                  "type": "integer"
                }
              ]
            },
            "maxRandomDelayInSeconds": {
              "description": "The maximum amount of delay Nudge will utilize before launching the UI. This is useful if you do not want your users to all receive the Nudge prompt at the exact time of the LaunchAgent. Note: This functionality only applies when also enabling randomDelay",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 1200,
                  "type": "integer"
                }
              ]
            },
            "noTimers": {
              "description": "This will disable all functionality related to the userExperience preference domain.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": false,
                  "type": "boolean"
                }
              ]
            },
            "nudgeRefreshCycle": {
              "description": "The amount of time in seconds Nudge will use as its core timer to refresh all the core code paths. Note: While you can lower this setting, it could make Nudge too aggressive. Be mindful of decreasing this value.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": 60,
                  "type": "integer"
                }
              ]
            },
            "randomDelay": {
              "description": "Enables an initial delay Nudge before launching the UI. This is useful if you do not want your users to all receive the Nudge prompt at the exact time of the LaunchAgent.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": false,
                  "type": "boolean"
                }
              ]
            }
          }
        }
      ]
    },
    "userInterface": {
      "description": "All features related to how Nudge defines the user interface.",
      "title": "userInterface",
      "anyOf": [
        {
          "title": "Not Configured",
          "type": "null"
        },
        {
          "title": "Configured",
          "type": "object",
          "properties": {
            "actionButtonPath": {
              "description": "A path to a URI for opening alternative actions, like jamf self service items",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "string",
                  "options": {
                    "inputAttributes": {
                      "placeholder": "jamfselfservice://remediate"
                    }
                  }
                }
              ]
            },
            "fallbackLanguage": {
              "description": "The language to revert to if no localizations are available for the device's current language.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "default": "en",
                  "title": "Configured",
                  "type": "string",
                  "options": {
                    "inputAttributes": {
                      "placeholder": "en"
                    }
                  }
                }
              ]
            },
            "forceFallbackLanguage": {
              "description": "Force the custom localizations to the value of fallbackLanguage.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": false,
                  "type": "boolean"
                }
              ]
            },
            "forceScreenShotIcon": {
              "description": "Force the built-in ScreenShot icon to render in the UI if a ScreenShot path is not passed.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": false,
                  "type": "boolean"
                }
              ]
            },
            "iconDarkPath": {
              "description": "A path to a local jpg, png, icns that contains the icon for dark mode. This will replace the Apple logo on the left side of Nudge.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "string",
                  "options": {
                    "inputAttributes": {
                      "placeholder": "/Library/Application Support/Nudge/logoDark.png"
                    }
                  }
                }
              ]
            },
            "iconLightPath": {
              "description": "A path to a local jpg, png, icns that contains the icon for light mode. This will replace the Apple logo on the left side of Nudge.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "string",
                  "options": {
                    "inputAttributes": {
                      "placeholder": "/Library/Application Support/Nudge/logoLight.png"
                    }
                  }
                }
              ]
            },
            "screenShotDarkPath": {
              "description": "A path to a local jpg, png, icns that contains the screen shot for dark mode. This will replace the Big Sur logo on the lower right side of Nudge.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "string",
                  "options": {
                    "inputAttributes": {
                      "placeholder": "/Library/Application Support/Nudge/screenShotDark.png"
                    }
                  }
                }
              ]
            },
            "screenShotLightPath": {
              "description": "A path to a local jpg, png, icns that contains the screen shot for light mode. This will replace the Big Sur logo on the lower right side of Nudge.",
              "anyOf": [
                {
                  "type": "null",
                  "title": "Not Configured"
                },
                {
                  "title": "Configured",
                  "type": "string",
                  "options": {
                    "inputAttributes": {
                      "placeholder": "/Library/Application Support/Nudge/screenShotLight.png"
                    }
                  }
                }
              ]
            },
            "showDeferralCount": {
              "description": "Enables or disables the deferral count of the current Nudge event.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": true,
                  "type": "boolean"
                }
              ]
            },
            "simpleMode": {
              "description": "Enables Nudge to launch in the simplified user experience.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": false,
                  "type": "boolean"
                }
              ]
            },
            "singleQuitButton": {
              "description": "Only display one quit button regardless of proximity to the due date.",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "default": false,
                  "type": "boolean"
                }
              ]
            },
            "updateElements": {
              "description": "The individual buttons and text elements that can be customized for your employer's needs. This includes per country localization.",
              "title": "updateElements",
              "anyOf": [
                {
                  "title": "Not Configured",
                  "type": "null"
                },
                {
                  "title": "Configured",
                  "type": "array",
                  "items": {
                    "title": "updateElement - Dictionary",
                    "type": "object",
                    "properties": {
                      "_language": {
                        "description": "The targeted language locale for the user interface. Note: For a list of locales, please run the following command in Terminal: /usr/bin/locale -a",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string",
                            "options": {
                              "inputAttributes": {
                                "placeholder": "en"
                              }
                            }
                          }
                        ]
                      },
                      "actionButtonText": {
                        "description": "Modifies the actionButton, also known as the \"Update Device\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "customDeferralButtonText": {
                        "description": "Modifies the customDeferralButtonText, also known as the \"Custom\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "informationButtonText": {
                        "description": "Modifies the informationButton, also known as the \"More Info\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "oneDayDeferralButtonText": {
                        "description": "Modifies the oneDayDeferralButtonText, also known as the \"One Day\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "oneHourDeferralButtonText": {
                        "description": "Modifies the oneHourDeferralButtonText, also known as the \"One Hour\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "mainContentHeader": {
                        "description": "Modifies the mainContentHeader. This is the \"Your device will restart during this update\" text.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "mainContentNote": {
                        "description": "Modifies the mainContentNote. This is the \"Important Notes\" text.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "mainContentSubHeader": {
                        "description": "Modifies the mainContentSubHeader. This is the \"Updates can take around 30 minutes to complete\" text.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "mainContentText": {
                        "description": "Modifies the mainContentText. This is the \"A fully up-to-date device is required to ensure that IT can your accurately protect your device. If you do not update your device, you may lose access to some items necessary for your day-to-day tasks. To begin the update, simply click on the button below and follow the provided steps.\" text. Note: The python version of Nudge required three paragraphs. With the Swift version, this is no longer necessary. Simply pass two newlines (\\n\\n) to start a new paragraph. You can have as many or as few as you want, with the only limitation being window space.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "mainHeader": {
                        "description": "Modifies the mainHeader. This is the \"Your device requires a security update\" text.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "primaryQuitButtonText": {
                        "description": "Modifies the primaryQuitButton, also known as the \"Later\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "secondaryQuitButtonText": {
                        "description": "Modifies the secondaryQuitButton, also known as the \"I understand\" button.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      },
                      "subHeader": {
                        "description": "Modifies the subHeader. This is the \"A friendly reminder from your local IT team\" text.",
                        "anyOf": [
                          {
                            "type": "null",
                            "title": "Not Configured"
                          },
                          {
                            "title": "Configured",
                            "type": "string"
                          }
                        ]
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    }
  }
}
